<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="message">

	<select id="messageCount" parameterType="message" resultMap="messageResult">
		SELECT COUNT(*) m_count FROM M_MESSAGE WHERE M_TO = #{mTo} AND M_STATUS = 'N'
	</select>
	
	<select id="selectMessage" resultMap="messageResult">
		SELECT * FROM M_MESSAGE WHERE M_TO = #{id}
	</select>
	
	<resultMap type="message" id="messageResult">
		<id column="m_no" property="mNo"/>
		<result column="m_to" property="mTo"/>
		<result column="m_from" property="mFrom"/>
		<result column="m_message" property="mMessage"/>
		<result column="m_date" property="mDate"/>
		<result column="m_status" property="mStatus"/>
		<result column="m_count" property="mCount"/>
	</resultMap>

</mapper>
